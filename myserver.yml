---
- hosts: all
  become: yes
  tasks:
        - name: I want to install web server on ubuntu node
          apt:
               name: apache2
               state: present


        - name: I want to start web server on ubuntu node
          service:
                   name: apache2
                   state: started

 
        - name: I want to check ansible os family    
          service:
                   name: apache2
                   state: started 
          when: ansible_os_family== "Debian"


        - name: I want to install webserver on redhatnode
          yum:
                   name: httpd
                   state: started 
          when: ansible_os_family== "RedHat"


        - name: I want to start webserver on redhatnode
          service:
                   name: httpd
                   state: started 
          when: ansible_os_family== "RedHat"